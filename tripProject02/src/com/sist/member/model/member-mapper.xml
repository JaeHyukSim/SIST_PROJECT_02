<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sist.member.model.member-mapper">

	<!--
			EMAIL  NOT NULL VARCHAR2(45) 
			PWD    NOT NULL VARCHAR2(20) 
			NAME   NOT NULL VARCHAR2(20) 
			NICK   NOT NULL VARCHAR2(51) 
			GENDER NOT NULL VARCHAR2(30) 
			BIRTH           VARCHAR2(30) 
			TEL    NOT NULL VARCHAR2(45)
			admin 				 
	-->
	
	<insert id="memberInsert" parameterType="MemberVO">
		INSERT INTO member
		VALUES (
			#{email},
			#{pwd},
			#{name},
			#{nick},
			#{gender},
			#{birth},
			#{tel},
			'0'
		)
	</insert>
	
	<select id="idCount" resultType="int" parameterType="string"> 
		SELECT COUNT(*) FROM member
		WHERE email=#{email}
	</select>
	
	<select id="idCheck" resultType="int" parameterType="string"> 
		SELECT COUNT(*) FROM member
		WHERE email=#{email}
	</select>
	
	<select id="getPwd" resultType="MemberVO" parameterType="string">
	 	SELECT pwd,name,admin FROM member
		WHERE email=#{email}
	</select>
	
	<select id="memberDetailData" resultType="MemberVO" parameterType="string">
		SELECT email,name,nick,birth,tel FROM member WHERE email=#{email }
	</select>
	
	<update id="memberUpdate" parameterType="MemberVO">
		UPDATE member
		SET email=#{email},pwd=#{pwd},name=#{name},nick=#{nick},gender=#{gender},birth=#{birth},tel=#{tel},admin='0'
		WHERE email=#{email}
	</update>
	
	<select id="memberGetPwd" resultType="string" parameterType="string">
		SELECT pwd FROM member WHERE email=#{email }
	</select>
	
	<delete id="memberDelete_ok" parameterType="string">
		DELETE
		FROM member
		WHERE email=#{email }
	</delete> 
</mapper>